<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Guia de Prova Django - Eduardo</title>
    <style>
        * { box-sizing: border-box; }
        body { font-family: 'Segoe UI', sans-serif; margin: 0; background: #0a0a0a; color: #eee; overflow: hidden; }
        
        .container { display: flex; width: 600vw; height: 100vh; transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1); }
        
        .slide { width: 100vw; height: 100vh; padding: 40px; display: flex; flex-direction: column; }
        
        .header { background: #1a1a1a; padding: 20px; border-left: 8px solid #4caf50; border-radius: 8px 8px 0 0; box-shadow: 0 4px 15px rgba(0,0,0,0.5); }
        .filename { font-family: 'Consolas', monospace; font-size: 1.8em; color: #4caf50; }
        .instruction { color: #aaa; margin-top: 5px; font-size: 1.1em; }
        
        .code-box { background: #1e1e1e; flex-grow: 1; padding: 25px; border-radius: 0 0 8px 8px; border: 1px solid #333; overflow-y: auto; margin-top: 2px; }
        pre { font-family: 'Consolas', monospace; color: #9cdcfe; font-size: 1.15em; line-height: 1.5; margin: 0; }
        
        
        .kwd { color: #569cd6; }
        .cmt { color: #6a9955; font-style: italic; }
        .str { color: #ce9178; } 
        .decorator { color: #dcdcaa; }
        
        
        .nav { position: fixed; top: 0; bottom: 0; width: 8%; z-index: 1000; cursor: pointer; transition: 0.3s; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 2em; color: rgba(255,255,255,0.1); }
        .nav:hover { background: rgba(255,255,255,0.05); color: #4caf50; }
        .left { left: 0; }
        .right { right: 0; }
        
        .page-indicator { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); color: #555; font-size: 0.9em; }
    </style>
</head>
<body>

    <div class="nav left" onclick="move(-1)">‚ùÆ</div>
    <div class="nav right" onclick="move(1)">‚ùØ</div>

    <div class="container" id="main">
        
        <section class="slide">
            <div class="header">
                <div class="filename">üìÇ pasta_do_app / forms.py</div>
                <div class="instruction">Crie ou edite para definir como os dados entram no sistema.</div>
            </div>
            <div class="code-box">
                <pre>
<span class="kwd">from</span> django <span class="kwd">import</span> forms
<span class="kwd">from</span> .models <span class="kwd">import</span> SeuModelo <span class="cmt"># Mude para o nome da sua classe</span>

<span class="kwd">class</span> SeuModeloForm(forms.ModelForm):
    <span class="kwd">class</span> Meta:
        model = SeuModelo
        fields = <span class="str">'__all__'</span> <span class="cmt"># Ou ['campo1', 'campo2']</span></pre>
            </div>
        </section>

        <section class="slide">
            <div class="header">
                <div class="filename">üìÇ pasta_do_app / views.py (Parte 1)</div>
                <div class="instruction">L√≥gica para mostrar dados e remover itens.</div>
            </div>
            <div class="code-box">
                <pre>
<span class="kwd">from</span> django.shortcuts <span class="kwd">import</span> render, redirect, get_object_or_404
<span class="kwd">from</span> django.contrib.auth.decorators <span class="kwd">import</span> <span class="decorator">login_required</span>
<span class="kwd">from</span> .models <span class="kwd">import</span> SeuModelo

<span class="cmt"># MOSTRAR TUDO</span>
<span class="kwd">def</span> listar(request):
    dados = SeuModelo.objects.all()
    <span class="kwd">return</span> render(request, <span class="str">'index.html'</span>, {<span class="str">'dados'</span>: dados})

<span class="cmt"># EXCLUIR (Protegido)</span>
<span class="decorator">@login_required</span>
<span class="kwd">def</span> excluir(request, id):
    obj = get_object_or_404(SeuModelo, pk=id)
    obj.delete()
    <span class="kwd">return</span> redirect(<span class="str">'url_da_lista'</span>)</pre>
            </div>
        </section>

        <section class="slide">
            <div class="header">
                <div class="filename">üìÇ pasta_do_app / views.py (Parte 2)</div>
                <div class="instruction">L√≥gica para salvar e atualizar (Note o uso do ID).</div>
            </div>
            <div class="code-box">
                <pre>
<span class="kwd">from</span> .forms <span class="kwd">import</span> SeuModeloForm

<span class="decorator">@login_required</span>
<span class="kwd">def</span> salvar(request, id=<span class="kwd">None</span>):
    <span class="cmt"># Se tem ID, busca objeto (EDIT). Se n√£o, √© None (CRIAR).</span>
    obj = get_object_or_404(SeuModelo, pk=id) <span class="kwd">if</span> id <span class="kwd">else None</span>
    
    <span class="cmt"># O 'instance' preenche o form se for edi√ß√£o</span>
    form = SeuModeloForm(request.POST <span class="kwd">or None</span>, instance=obj)
    
    <span class="kwd">if</span> request.method == <span class="str">'POST'</span> <span class="kwd">and</span> form.is_valid():
        form.save()
        <span class="kwd">return</span> redirect(<span class="str">'url_da_lista'</span>)
        
    <span class="kwd">return</span> render(request, <span class="str">'form.html'</span>, {<span class="str">'form'</span>: form})</pre>
            </div>
        </section>

        <section class="slide">
            <div class="header">
                <div class="filename">üìÇ pasta_do_app / urls.py</div>
                <div class="instruction">Defina os caminhos. O <int:id> √© fundamental.</div>
            </div>
            <div class="code-box">
                <pre>
<span class="kwd">from</span> django.urls <span class="kwd">import</span> path
<span class="kwd">from</span> . <span class="kwd">import</span> views

urlpatterns = [
    path(<span class="str">''</span>, views.listar, name=<span class="str">'url_da_lista'</span>),
    path(<span class="str">'novo/'</span>, views.salvar, name=<span class="str">'url_criar'</span>),
    path(<span class="str">'editar/&lt;int:id&gt;/'</span>, views.salvar, name=<span class="str">'url_editar'</span>),
    path(<span class="str">'deletar/&lt;int:id&gt;/'</span>, views.excluir, name=<span class="str">'url_deletar'</span>),
]</pre>
            </div>
        </section>

        <section class="slide">
            <div class="header">
                <div class="filename">üìÇ templates / index.html</div>
                <div class="instruction">Interface principal com loop e travas de seguran√ßa.</div>
            </div>
            <div class="code-box">
                <pre>
<span class="cmt">&lt;!-- Se estiver logado --&gt;</span>
{% <span class="kwd">if</span> user.is_authenticated %}
    &lt;a href="{% url 'url_criar' %}"&gt;Novo Item&lt;/a&gt;
{% <span class="kwd">endif</span> %}

{% <span class="kwd">for</span> item <span class="kwd">in</span> dados %}
    &lt;p&gt;{{ item.nome }}&lt;/p&gt;
    &lt;a href="{% url 'url_editar' item.id %}"&gt;Editar&lt;/a&gt;
    
    <span class="cmt">&lt;!-- Somente Admin v√™ Excluir --&gt;</span>
    {% <span class="kwd">if</span> user.is_superuser %}
        &lt;a href="{% url 'url_deletar' item.id %}"&gt;Excluir&lt;/a&gt;
    {% <span class="kwd">endif</span> %}
{% <span class="kwd">endfor</span> %}</pre>
            </div>
        </section>

        <section class="slide">
            <div class="header">
                <div class="filename">üìÇ templates / form.html</div>
                <div class="instruction">Onde o formul√°rio aparece. N√£o esque√ßa o token!</div>
            </div>
            <div class="code-box">
                <pre>
&lt;h1&gt;Cadastro / Edi√ß√£o&lt;/h1&gt;

&lt;form method=<span class="str">"POST"</span>&gt;
    {% csrf_token %} <span class="cmt">&lt;!-- SEM ISSO D√Å ERRO 403 --&gt;</span>
    
    {{ form.as_p }}
    
    &lt;button type=<span class="str">"submit"</span>&gt;Confirmar&lt;/button&gt;
    &lt;a href="{% url 'url_da_lista' %}"&gt;Cancelar&lt;/a&gt;
&lt;/form&gt;</pre>
            </div>
        </section>

    </div>

    <div class="page-indicator" id="ind">Slide 1 / 6</div>

    <script>
        let cur = 0;
        const total = 6;
        const main = document.getElementById('main');
        const ind = document.getElementById('ind');

        function move(dir) {
            cur += dir;
            if (cur < 0) cur = 0;
            if (cur >= total) cur = total - 1;
            main.style.transform = `translateX(-${cur * 100}vw)`;
            ind.innerText = `Slide ${cur + 1} / ${total}`;
        }

        document.addEventListener('keydown', (e) => {
            if (e.key === "ArrowRight") move(1);
            if (e.key === "ArrowLeft") move(-1);
        });
    </script>
</body>
</html>
